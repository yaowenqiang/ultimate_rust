# Rust å­—èŠ‚æ“ä½œå’Œé›¶æ‹·è´ç¼–ç¨‹æ·±å…¥å­¦ä¹ ç¤ºä¾‹

[![Rust](https://img.shields.io/badge/rust-1.70+-orange.svg)](https://www.rust-lang.org)
[![License: MIT](https://img.shields.io/badge/License-MIT-blue.svg)](LICENSE)
[![Documentation](https://docs.rs/bytes/badge.svg)](https://docs.rs/bytes)

è¿™æ˜¯ä¸€ä¸ªä¸“é—¨ä¸ºå­¦ä¹  Rust ä¸­å­—èŠ‚æ“ä½œï¼ˆByte Operationsï¼‰å’Œé›¶æ‹·è´ç¼–ç¨‹ï¼ˆZero-Copy Programmingï¼‰è€Œè®¾è®¡çš„ç»¼åˆå­¦ä¹ é¡¹ç›®ã€‚é€šè¿‡è¯¦ç»†çš„ç¤ºä¾‹ã€ä¸­æ–‡æ³¨é‡Šå’Œå®é™…åº”ç”¨åœºæ™¯ï¼Œå¸®åŠ©æ‚¨æ·±å…¥ç†è§£ Rust å†…å­˜ç®¡ç†ã€æ€§èƒ½ä¼˜åŒ–å’Œç³»ç»Ÿç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µã€‚

## ğŸ“š ç›®å½•

- [é¡¹ç›®ç®€ä»‹](#é¡¹ç›®ç®€ä»‹)
- [å­¦ä¹ ç›®æ ‡](#å­¦ä¹ ç›®æ ‡)
- [å‰ç½®çŸ¥è¯†](#å‰ç½®çŸ¥è¯†)
- [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [è¿è¡Œç¤ºä¾‹](#è¿è¡Œç¤ºä¾‹)
- [è¯¦ç»†ç¤ºä¾‹è¯´æ˜](#è¯¦ç»†ç¤ºä¾‹è¯´æ˜)
- [æ€§èƒ½åˆ†æ](#æ€§èƒ½åˆ†æ)
- [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)
- [å¸¸è§é™·é˜±](#å¸¸è§é™·é˜±)
- [ç›¸å…³èµ„æº](#ç›¸å…³èµ„æº)
- [è´¡çŒ®æŒ‡å—](#è´¡çŒ®æŒ‡å—)

## ğŸ¯ é¡¹ç›®ç®€ä»‹

å­—èŠ‚æ“ä½œæ˜¯ç³»ç»Ÿç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹å’Œæ•°æ®å¤„ç†çš„æ ¸å¿ƒåŸºç¡€ã€‚æœ¬é¡¹ç›®é€šè¿‡9ä¸ªæ¸è¿›å¼çš„ç¤ºä¾‹ï¼Œä»åŸºç¡€æ¦‚å¿µåˆ°å®é™…åº”ç”¨ï¼Œå…¨é¢å±•ç¤ºäº† Rust ä¸­å­—èŠ‚æ“ä½œã€é›¶æ‹·è´ç¼–ç¨‹å’Œé«˜æ€§èƒ½æ•°æ®å¤„ç†çš„å„ä¸ªæ–¹é¢ã€‚

### ç‰¹è‰²äº®ç‚¹

- ğŸ“– **è¯¦ç»†çš„ä¸­æ–‡æ³¨é‡Š** - 800+ è¡Œè¯¦ç»†è§£é‡Š
- ğŸ¯ **æ¸è¿›å¼å­¦ä¹ è·¯å¾„** - ä»æ¦‚å¿µåˆ°å®è·µ
- ğŸ’¡ **å®é™…åº”ç”¨åœºæ™¯** - ç½‘ç»œç¼–ç¨‹ã€æ•°æ®å¤„ç†ç­‰
- ğŸ”§ **å®Œæ•´è§£å†³æ–¹æ¡ˆ** - åŒ…å«æ€§èƒ½åŸºå‡†æµ‹è¯•
- ğŸ“‹ **æœ€ä½³å®è·µæŒ‡å—** - é¿å…å­—èŠ‚æ“ä½œé™·é˜±çš„å®ç”¨å»ºè®®
- ğŸ“Š **æ€§èƒ½åˆ†æå·¥å…·** - å¯¹æ¯”ä¸åŒæ–¹æ³•çš„æ€§èƒ½å½±å“

## ğŸ“ å­¦ä¹ ç›®æ ‡

é€šè¿‡æœ¬é¡¹ç›®ï¼Œæ‚¨å°†å­¦ä¼šï¼š

- âœ… ç†è§£å­—èŠ‚æ“ä½œçš„åŸºæœ¬æ¦‚å¿µå’Œé‡è¦æ€§
- âœ… æŒæ¡å­—èŠ‚åºï¼ˆEndiannessï¼‰å¤„ç†å’Œè·¨å¹³å°å…¼å®¹æ€§
- âœ… å­¦ä¼šä½¿ç”¨ bytemuck è¿›è¡Œå®‰å…¨çš„é›¶æ‹·è´æ“ä½œ
- âœ… æŒæ¡ bytes crate çš„é«˜çº§ç”¨æ³•
- âœ… äº†è§£å¼‚æ­¥ç¯å¢ƒä¸‹çš„å­—èŠ‚æ“ä½œ
- âœ… å­¦ä¼šå„ç§ç¼–ç /è§£ç æ–¹å¼ï¼ˆåå…­è¿›åˆ¶ã€Base64ç­‰ï¼‰
- âœ… ç†è§£åºåˆ—åŒ–æ¡†æ¶çš„å­—èŠ‚å¤„ç†
- âœ… è¯†åˆ«å’Œä¼˜åŒ–å­—èŠ‚æ“ä½œæ€§èƒ½é—®é¢˜

## ğŸ“‹ å‰ç½®çŸ¥è¯†

åœ¨å¼€å§‹å­¦ä¹ ä¹‹å‰ï¼Œå»ºè®®æ‚¨å·²ç»äº†è§£ï¼š

- Rust åŸºç¡€è¯­æ³•å’Œæ‰€æœ‰æƒæ¦‚å¿µ
- æŒ‡é’ˆå’Œå†…å­˜ç®¡ç†çš„åŸºæœ¬æ¦‚å¿µ
- ç»“æ„ä½“ã€æšä¸¾å’Œå‡½æ•°çš„ä½¿ç”¨
- åŸºæœ¬çš„å¼‚æ­¥ç¼–ç¨‹æ¦‚å¿µ

å¦‚æœæ‚¨æ˜¯ Rust åˆå­¦è€…ï¼Œå»ºè®®å…ˆé˜…è¯» [Rust Book](https://doc.rust-lang.org/book/) çš„ç›¸å…³ç« èŠ‚ã€‚

## ğŸ§  æ ¸å¿ƒæ¦‚å¿µ

### å­—èŠ‚æ“ä½œï¼ˆByte Operationsï¼‰

å­—èŠ‚æ“ä½œæ¶‰åŠå¯¹åŸå§‹æ•°æ®çš„ç›´æ¥æ“ä½œï¼ŒåŒ…æ‹¬ç±»å‹è½¬æ¢ã€å­—èŠ‚åºå¤„ç†ã€ç¼–ç è§£ç ç­‰ã€‚

#### åŸºæœ¬æ¦‚å¿µ

| æ¦‚å¿µ | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|
| **å­—èŠ‚åº** | å¤šå­—èŠ‚æ•°æ®çš„å­˜å‚¨é¡ºåº | å¤§ç«¯åºã€å°ç«¯åº |
| **é›¶æ‹·è´** | é¿å…ä¸å¿…è¦çš„æ•°æ®å¤åˆ¶ | `bytemuck` åº“ |
| **å¯¹é½** | æ•°æ®åœ¨å†…å­˜ä¸­çš„æ’åˆ—æ–¹å¼ | `#[repr(align(n))]` |
| **ç¼–ç ** | å­—èŠ‚ä¸æ–‡æœ¬çš„è½¬æ¢ | UTF-8ã€Base64ã€Hex |

### é›¶æ‹·è´ç¼–ç¨‹ï¼ˆZero-Copy Programmingï¼‰

é›¶æ‹·è´æ˜¯ä¸€ç§ä¼˜åŒ–æŠ€æœ¯ï¼Œé€šè¿‡é¿å…æ•°æ®å¤åˆ¶æ¥æé«˜æ€§èƒ½ã€‚

#### ä¼˜åŠ¿å¯¹æ¯”

| æ–¹æ³• | æ€§èƒ½ | å†…å­˜ä½¿ç”¨ | å®‰å…¨æ€§ | é€‚ç”¨åœºæ™¯ |
|------|------|----------|--------|----------|
| **ä¼ ç»Ÿå¤åˆ¶** | æ…¢ | é«˜ | æœ€é«˜ | ç®€å•åœºæ™¯ |
| **é›¶æ‹·è´** | æœ€å¿« | æœ€ä½ | é«˜ | æ€§èƒ½æ•æ„Ÿ |
| **å¼•ç”¨è®¡æ•°** | ä¸­ç­‰ | ä¸­ç­‰ | é«˜ | å…±äº«æ•°æ® |

## ğŸ“ é¡¹ç›®ç»“æ„

```
bytes/
â”œâ”€â”€ Cargo.toml              # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md               # é¡¹ç›®æ–‡æ¡£ï¼ˆæœ¬æ–‡ä»¶ï¼‰
â””â”€â”€ src/
    â””â”€â”€ main.rs             # ä¸»è¦ç¤ºä¾‹ä»£ç ï¼ˆ800+è¡Œï¼‰
```

### ä»£ç ç»„ç»‡

é¡¹ç›®ä»£ç æŒ‰ä»¥ä¸‹æ–¹å¼ç»„ç»‡ï¼š

1. **åŸºç¡€å­—èŠ‚æ“ä½œ** - å±•ç¤ºæ•´æ•°ã€æµ®ç‚¹æ•°çš„å­—èŠ‚è½¬æ¢
2. **å­—èŠ‚åºè½¬æ¢** - æ¼”ç¤ºå¤§ç«¯åºå’Œå°ç«¯åºçš„å¤„ç†
3. **bytemuck é›¶æ‹·è´** - å±•ç¤ºå®‰å…¨çš„ç±»å‹è½¬æ¢
4. **å¤æ‚ç»“æ„ä½“æ“ä½œ** - æ¼”ç¤ºåŒ…å«å¡«å……çš„ç»“æ„ä½“å¤„ç†
5. **bytes crate é«˜çº§æ“ä½œ** - å±•ç¤ºé«˜æ€§èƒ½å­—èŠ‚ç¼“å†²åŒº
6. **å¼‚æ­¥å­—èŠ‚æ“ä½œ** - æ¼”ç¤ºå¼‚æ­¥ç¯å¢ƒä¸‹çš„å­—èŠ‚å¤„ç†
7. **ç¼–ç å’Œè§£ç ** - å±•ç¤ºå„ç§ç¼–ç æ–¹å¼
8. **åºåˆ—åŒ–æ¡†æ¶** - å±•ç¤º serde ç­‰æ¡†æ¶çš„å­—èŠ‚å¤„ç†
9. **æ€§èƒ½åˆ†æ** - å¯¹æ¯”ä¸åŒæ–¹æ³•çš„æ€§èƒ½

## ğŸš€ è¿è¡Œç¤ºä¾‹

### å®‰è£… Rust

é¦–å…ˆç¡®ä¿æ‚¨çš„ç³»ç»Ÿå·²å®‰è£… Rustï¼š

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

### å…‹éš†å’Œè¿è¡Œ

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/ultimate_rust.git
cd ultimate_rust/bytes

# è¿è¡Œç¤ºä¾‹
cargo run

# æˆ–è€…ç¼–è¯‘åè¿è¡Œ
cargo build
./target/debug/bytes
```

### é¢„æœŸè¾“å‡º

è¿è¡Œç¨‹åºå°†çœ‹åˆ°å®Œæ•´çš„æ¼”ç¤ºè¾“å‡ºï¼ŒåŒ…æ‹¬ï¼š

```
=== Rust å­—èŠ‚æ“ä½œå’Œé›¶æ‹·è´æ·±å…¥å­¦ä¹ ç¤ºä¾‹ ===

æœ¬ç¤ºä¾‹å°†æ¼”ç¤ºå­—èŠ‚æ“ä½œã€ç±»å‹è½¬æ¢ã€é›¶æ‹·è´ç¼–ç¨‹å’Œæ€§èƒ½ä¼˜åŒ–ï¼Œ
è¿™æ˜¯ç†è§£ç³»ç»Ÿç¼–ç¨‹ã€ç½‘ç»œç¼–ç¨‹å’Œæ•°æ®å¤„ç†çš„æ ¸å¿ƒæ¦‚å¿µã€‚

ğŸš€ å¼€å§‹å­¦ä¹ ä¹‹æ—…...

ğŸ”¢ 1. åŸºç¡€å­—èŠ‚æ“ä½œæ¼”ç¤º:
   å±•ç¤ºæ•´æ•°åˆ°å­—èŠ‚æ•°ç»„çš„è½¬æ¢å’Œå­—èŠ‚åºå¤„ç†

   ğŸ¯ æ•´æ•°åˆ°å­—èŠ‚è½¬æ¢:
     åŸå§‹æ•°å­—: 0x12345678 (305419896)
     å¤§ç«¯åºå­—èŠ‚: [12, 34, 56, 78]
     å°ç«¯åºå­—èŠ‚: [78, 56, 34, 12]

   ğŸ”„ å­—èŠ‚åˆ°æ•´æ•°è½¬æ¢:
     ä»å¤§ç«¯åºé‡å»º: 0x12345678
     ä»å°ç«¯åºé‡å»º: 0x12345678
     è½¬æ¢æ­£ç¡®æ€§: true

âš¡ 9. æ€§èƒ½åˆ†æå’Œä¼˜åŒ–æ¼”ç¤º:
   å¯¹æ¯”ä¸åŒå­—èŠ‚æ“ä½œæ–¹æ³•çš„æ€§èƒ½

   ğŸ“Š æµ‹è¯•é…ç½®:
     è¿­ä»£æ¬¡æ•°: 1000
     æ•°æ®å¤§å°: 0.10 MB
     ç‚¹æ•°é‡: 8333

   1ï¸âƒ£  ä¼ ç»Ÿå¤åˆ¶æ–¹æ³•:
     æ—¶é—´: 408.071125ms
     ç»“æœ: 4105765408

   2ï¸âƒ£  bytemuck é›¶æ‹·è´æ–¹æ³•:
     æ—¶é—´: 33.869917ms
     Xåæ ‡æ€»å’Œ: 4043237888.00

   3ï¸âƒ£  bytes crate æ–¹æ³•:
     æ—¶é—´: 444.755875ms
     ç»“æœ: 12695700000

   ğŸ“ˆ æ€§èƒ½å¯¹æ¯”:
     ä¼ ç»Ÿå¤åˆ¶: 408.071125ms
     é›¶æ‹·è´: 33.869917ms
     bytes crate: 444.755875ms
     ğŸ† æœ€å¿«: é›¶æ‹·è´æ–¹æ³•

=== å­—èŠ‚æ“ä½œå’Œé›¶æ‹·è´å­¦ä¹ æ€»ç»“ ===
ğŸ¯ æ ¸å¿ƒæ¦‚å¿µå›é¡¾:
  â€¢ å­—èŠ‚æ˜¯æ•°æ®å¤„ç†çš„åŸºæœ¬å•ä½
  â€¢ é›¶æ‹·è´å¯ä»¥æ˜¾è‘—æé«˜æ€§èƒ½
  â€¢ å­—èŠ‚åºå½±å“è·¨å¹³å°æ•°æ®äº¤æ¢
  â€¢ å®‰å…¨çš„ç±»å‹è½¬æ¢é¿å…å†…å­˜é”™è¯¯

ğŸ’¡ æœ€ä½³å®è·µ:
  â€¢ ä¼˜å…ˆä½¿ç”¨å®‰å…¨çš„è½¬æ¢æ–¹æ³•
  â€¢ æ³¨æ„å¯¹é½å’Œå­—èŠ‚åºé—®é¢˜
  â€¢ é€‰æ‹©åˆé€‚çš„ç¼–ç æ–¹å¼
  â€¢ è¿›è¡Œæ€§èƒ½æµ‹è¯•éªŒè¯ä¼˜åŒ–

ğŸ”§ å®é™…åº”ç”¨:
  â€¢ ç½‘ç»œåè®®å¤„ç†å’Œè§£æ
  â€¢ æ–‡ä»¶æ ¼å¼è¯»å†™
  â€¢ æ•°æ®åºåˆ—åŒ–å’Œä¼ è¾“
  â€¢ é«˜æ€§èƒ½æ•°æ®å¤„ç†

âœ… å­¦ä¹ å®Œæˆï¼æ‚¨å·²ç»æŒæ¡äº† Rust å­—èŠ‚æ“ä½œçš„æ ¸å¿ƒæ¦‚å¿µã€‚
```

## ğŸ“– è¯¦ç»†ç¤ºä¾‹è¯´æ˜

### 1. åŸºç¡€å­—èŠ‚æ“ä½œ (`demonstrate_basic_byte_operations`)

**ç›®æ ‡**: å±•ç¤ºæ•´æ•°ã€æµ®ç‚¹æ•°å’Œå­—ç¬¦ä¸²çš„å­—èŠ‚è¡¨ç¤º

**å…³é”®æ¦‚å¿µ**:
- æ•´æ•°åˆ°å­—èŠ‚æ•°ç»„çš„è½¬æ¢
- å­—èŠ‚åºï¼ˆå¤§ç«¯åºã€å°ç«¯åºï¼‰
- æµ®ç‚¹æ•°çš„å­—èŠ‚è¡¨ç¤º
- UTF-8 å­—ç¬¦ä¸²ç¼–ç 

**æ ¸å¿ƒä»£ç **:
```rust
// æ•´æ•°åˆ°å­—èŠ‚è½¬æ¢
let value: u32 = 0x12345678;
let be_bytes = value.to_be_bytes();     // å¤§ç«¯åº
let le_bytes = value.to_le_bytes();     // å°ç«¯åº

// æµ®ç‚¹æ•°å­—èŠ‚æ“ä½œ
let pi: f32 = std::f32::consts::PI;
let pi_bytes = pi.to_le_bytes();
let pi_reconstructed = f32::from_le_bytes(pi_bytes);
```

### 2. å­—èŠ‚åºè½¬æ¢ (`demonstrate_endianness_conversion`)

**ç›®æ ‡**: æ¼”ç¤ºä¸åŒå­—èŠ‚åºçš„è½¬æ¢å’Œè·¨å¹³å°å…¼å®¹æ€§

**å…³é”®æ¦‚å¿µ**:
- ç½‘ç»œå­—èŠ‚åºï¼ˆå¤§ç«¯åºï¼‰
- ä¸»æœºå­—èŠ‚åºè½¬æ¢
- è·¨å¹³å°æ•°æ®å¤„ç†

**æ ¸å¿ƒä»£ç **:
```rust
// ç½‘ç»œå­—èŠ‚åºè½¬æ¢
let host_value: u32 = 0x12345678;
let network_value = host_value.to_be();  // è½¬æ¢ä¸ºç½‘ç»œå­—èŠ‚åº
let converted_back = u32::from_be(network_value);
```

### 3. bytemuck é›¶æ‹·è´æ“ä½œ (`demonstrate_bytemuck_operations`)

**ç›®æ ‡**: å±•ç¤ºå®‰å…¨çš„é›¶æ‹·è´ç±»å‹è½¬æ¢

**å…³é”®æ¦‚å¿µ**:
- `bytemuck` åº“çš„å®‰å…¨è½¬æ¢
- `Pod` å’Œ `Zeroable` trait
- å†…å­˜å¸ƒå±€ä¿è¯

**æ ¸å¿ƒä»£ç **:
```rust
#[repr(C)]
#[derive(Pod, Zeroable, Clone, Copy, Debug, PartialEq)]
struct Point3D {
    x: f32,
    y: f32,
    z: f32,
}

// é›¶æ‹·è´è½¬æ¢
let points = vec![Point3D { x: 1.0, y: 2.0, z: 3.0 }];
let bytes: &[u8] = bytemuck::bytes_of(&points);
let reconstructed = bytemuck::from_bytes::<[Point3D]>(bytes);
```

### 4. å¤æ‚ç»“æ„ä½“æ“ä½œ (`demonstrate_complex_struct_operations`)

**ç›®æ ‡**: æ¼”ç¤ºåŒ…å«å¡«å……å­—èŠ‚å’Œå¯¹é½çš„ç»“æ„ä½“æ“ä½œ

**å…³é”®æ¦‚å¿µ**:
- å†…å­˜å¸ƒå±€å’Œå¯¹é½
- å¡«å……å­—èŠ‚çš„å¤„ç†
- ç»“æ„ä½“å­—æ®µé¡ºåºä¼˜åŒ–

**æ ¸å¿ƒä»£ç **:
```rust
#[repr(C)]
#[derive(Pod, Zeroable, Clone, Copy, Debug)]
struct Student {
    id: u32,                     // 4 å­—èŠ‚
    gpa: f32,                    // 4 å­—èŠ‚
    name_bytes: [u8; 16],        // 16 å­—èŠ‚
    age: u8,                     // 1 å­—èŠ‚
    _padding: [u8; 3],           // 3 å­—èŠ‚å¡«å……ï¼Œç¡®ä¿4å­—èŠ‚å¯¹é½
}
```

### 5. bytes crate é«˜çº§æ“ä½œ (`demonstrate_bytes_operations`)

**ç›®æ ‡**: å±•ç¤ºé«˜æ€§èƒ½å­—èŠ‚ç¼“å†²åŒºçš„ä½¿ç”¨

**å…³é”®æ¦‚å¿µ**:
- `Bytes` å’Œ `BytesMut` ç±»å‹
- å¼•ç”¨è®¡æ•°å’Œé›¶æ‹·è´åˆ‡ç‰‡
- é«˜æ•ˆçš„å†…å­˜ç®¡ç†

**æ ¸å¿ƒä»£ç **:
```rust
// åˆ›å»º BytesMut ç¼“å†²åŒº
let mut buffer = BytesMut::new();
buffer.extend_from_slice(&data);
let bytes = buffer.freeze();

// é›¶æ‹·è´åˆ‡ç‰‡
let slice1 = bytes.slice(0..4);
let slice2 = bytes.slice(4..12);
```

### 6. å¼‚æ­¥å­—èŠ‚æ“ä½œ (`demonstrate_async_operations`)

**ç›®æ ‡**: å±•ç¤ºå¼‚æ­¥ç¯å¢ƒä¸‹çš„å­—èŠ‚æ“ä½œ

**å…³é”®æ¦‚å¿µ**:
- å¼‚æ­¥æ•°æ®å¤„ç†
- ç½‘ç»œåŒ…çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–
- tokio ç”Ÿæ€ç³»ç»Ÿçš„é›†æˆ

**æ ¸å¿ƒä»£ç **:
```rust
// å¼‚æ­¥æ•°æ®å¤„ç†
async fn process_packet_data(data: Bytes) -> Result<PacketHeader, Box<dyn Error>> {
    let cursor = Cursor::new(data);
    let packet = PacketHeader::read_from(cursor)?;
    Ok(packet)
}
```

### 7. ç¼–ç å’Œè§£ç  (`demonstrate_encoding_decoding`)

**ç›®æ ‡**: å±•ç¤ºå„ç§ç¼–ç æ–¹å¼çš„å­—èŠ‚æ•°æ®å¤„ç†

**å…³é”®æ¦‚å¿µ**:
- åå…­è¿›åˆ¶ç¼–ç 
- Base64 ç¼–ç ï¼ˆæ ‡å‡†å’ŒURLå®‰å…¨ï¼‰
- ç¼–ç æ•ˆç‡å’Œå¤§å°å¯¹æ¯”

**æ ¸å¿ƒä»£ç **:
```rust
// åå…­è¿›åˆ¶ç¼–ç 
let hex_encoded = hex::encode(&original_data);
let hex_decoded = hex::decode(hex_encoded)?;

// Base64 ç¼–ç 
let base64_encoded = general_purpose::STANDARD.encode(&original_data);
let base64_decoded = general_purpose::STANDARD.decode(base64_encoded)?;
```

### 8. åºåˆ—åŒ–æ¡†æ¶ (`demonstrate_serialization_frameworks`)

**ç›®æ ‡**: å±•ç¤º serde ç­‰åºåˆ—åŒ–æ¡†æ¶çš„å­—èŠ‚å¤„ç†

**å…³é”®æ¦‚å¿µ**:
- JSON åºåˆ—åŒ–
- äºŒè¿›åˆ¶åºåˆ—åŒ–ï¼ˆbincodeï¼‰
- åºåˆ—åŒ–å¤§å°å¯¹æ¯”

**æ ¸å¿ƒä»£ç **:
```rust
// JSON åºåˆ—åŒ–
let json_string = serde_json::to_string(&test_data)?;
let json_bytes = json_string.as_bytes();

// äºŒè¿›åˆ¶åºåˆ—åŒ–
let bincode_bytes = bincode::serialize(&test_data)?;
```

### 9. æ€§èƒ½åˆ†æ (`demonstrate_performance_analysis`)

**ç›®æ ‡**: å¯¹æ¯”ä¸åŒå­—èŠ‚æ“ä½œæ–¹æ³•çš„æ€§èƒ½

**æµ‹è¯•ç»“æœ**:
```
ğŸ“ˆ æ€§èƒ½å¯¹æ¯”:
  ä¼ ç»Ÿå¤åˆ¶: 408.071125ms
  é›¶æ‹·è´: 33.869917ms      ğŸ† æœ€å¿«
  bytes crate: 444.755875ms
```

**å…³é”®å‘ç°**:
- é›¶æ‹·è´æ–¹æ³•æ¯”ä¼ ç»Ÿå¤åˆ¶å¿«çº¦ 12 å€
- `bytes` crate è™½ç„¶ç¨æ…¢ï¼Œä½†æä¾›äº†æ›´å¤šåŠŸèƒ½
- é€‰æ‹©åˆé€‚çš„æ–¹æ³•å–å†³äºå…·ä½“éœ€æ±‚

## ğŸ“Š æ€§èƒ½åˆ†æ

### æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | æ€§èƒ½ | å†…å­˜æ•ˆç‡ | å®‰å…¨æ€§ | åŠŸèƒ½ä¸°å¯Œæ€§ | æ¨èåœºæ™¯ |
|------|------|----------|--------|------------|----------|
| **ä¼ ç»Ÿå¤åˆ¶** | æ…¢ | ä½ | æœ€é«˜ | ä¸­ç­‰ | ç®€å•åº”ç”¨ |
| **bytemuck é›¶æ‹·è´** | æœ€å¿« | æœ€é«˜ | é«˜ | ä¸“é—¨åŒ– | é«˜æ€§èƒ½è®¡ç®— |
| **bytes crate** | ä¸­ç­‰ | é«˜ | é«˜ | æœ€ä¸°å¯Œ | ç½‘ç»œç¼–ç¨‹ |

### å®é™…åº”ç”¨å»ºè®®

1. **é«˜æ€§èƒ½åœºæ™¯**: ä¼˜å…ˆè€ƒè™‘ `bytemuck` é›¶æ‹·è´
2. **ç½‘ç»œç¼–ç¨‹**: ä½¿ç”¨ `bytes` crate
3. **æ•°æ®å¤„ç†**: æ ¹æ®æ•°æ®ç‰¹ç‚¹é€‰æ‹©åˆé€‚æ–¹æ³•
4. **å®‰å…¨æ€§è¦æ±‚**: é¿å…ä¸å®‰å…¨çš„æŒ‡é’ˆæ“ä½œ

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. ç±»å‹å®‰å…¨

```rust
// âœ… å®‰å…¨ï¼šä½¿ç”¨ bytemuck è¿›è¡Œç±»å‹è½¬æ¢
let safe_bytes = bytemuck::bytes_of(&data);

// âŒ å±é™©ï¼šç›´æ¥æŒ‡é’ˆè½¬æ¢
let dangerous = unsafe { std::mem::transmute::<_, &[u8]>(&data) };
```

### 2. å­—èŠ‚åºå¤„ç†

```rust
// âœ… æ­£ç¡®ï¼šç½‘ç»œå­—èŠ‚åºå¤„ç†
let network_value = host_value.to_be();

// âŒ é”™è¯¯ï¼šå¿½ç•¥å­—èŠ‚åº
let incorrect = host_value;  // å¯èƒ½åœ¨ä¸åŒå¹³å°ä¸Šå‡ºé”™
```

### 3. é”™è¯¯å¤„ç†

```rust
// âœ… å®Œæ•´çš„é”™è¯¯å¤„ç†
match std::str::from_utf8(&bytes) {
    Ok(text) => println!("æ–‡æœ¬: {}", text),
    Err(e) => eprintln!("UTF-8 è§£ç å¤±è´¥: {}", e),
}
```

### 4. æ€§èƒ½ä¼˜åŒ–

```rust
// âœ… é¢„åˆ†é…å†…å­˜
let mut buffer = Vec::with_capacity(expected_size);

// âœ… æ‰¹é‡æ“ä½œ
buffer.extend_from_slice(&data_chunk);
```

## âš ï¸ å¸¸è§é™·é˜±

### 1. å­—èŠ‚åºé—®é¢˜

```rust
// âŒ å¯èƒ½çš„é—®é¢˜ï¼šå¹³å°ç›¸å…³çš„å­—èŠ‚åº
let raw_bytes = unsafe { std::mem::transmute::<_, [u8; 4]>(value) };

// âœ… æ­£ç¡®ï¼šæ˜ç¡®çš„å­—èŠ‚åº
let bytes = value.to_le_bytes();  // æˆ– to_be_bytes()
```

### 2. æœªå¯¹é½è®¿é—®

```rust
// âŒ å±é™©ï¼šå¯èƒ½æœªå¯¹é½çš„è®¿é—®
#[repr(packed)]
struct Packed {
    a: u32,
    b: u16,
}

// âœ… å®‰å…¨ï¼šå¤åˆ¶åˆ°æœ¬åœ°å˜é‡
let safe_access = packed.a;  // å¤åˆ¶å€¼ï¼Œä¸æ˜¯å¼•ç”¨
```

### 3. ç”Ÿå‘½å‘¨æœŸé—®é¢˜

```rust
// âŒ é—®é¢˜ï¼šæ‚¬å‚æŒ‡é’ˆ
let dangerous_ref = {
    let local_data = vec![1, 2, 3];
    &local_data as &[u8]  // local_data è¢«é”€æ¯
};

// âœ… æ­£ç¡®ï¼šä½¿ç”¨ Bytes ç®¡ç†ç”Ÿå‘½å‘¨æœŸ
let safe_bytes = Bytes::from(data);
```

## ğŸ“š ç›¸å…³èµ„æº

### å®˜æ–¹æ–‡æ¡£

- [Rust Book - æ™ºèƒ½æŒ‡é’ˆ](https://doc.rust-lang.org/book/ch15-00-smart-pointers.html)
- [Rustonomicon - é›¶æ‹·è´](https://doc.rust-lang.org/nomicon/vec/vec-raw-pointer.html)
- [bytemuck æ–‡æ¡£](https://docs.rs/bytemuck/)
- [bytes crate æ–‡æ¡£](https://docs.rs/bytes/)

### å­¦ä¹ èµ„æº

- [å­—èŠ‚åºæ¦‚å¿µ](https://en.wikipedia.org/wiki/Endianness)
- [é›¶æ‹·è´ç¼–ç¨‹](https://en.wikipedia.org/wiki/Zero-copy)
- [UTF-8 ç¼–ç ](https://en.wikipedia.org/wiki/UTF-8)
- [Base64 ç¼–ç ](https://en.wikipedia.org/wiki/Base64)

### æ€§èƒ½ä¼˜åŒ–

- [Rust æ€§èƒ½æŒ‡å—](https://doc.rust-lang.org/nomicon/)
- [bytemuck æ€§èƒ½åˆ†æ](https://github.com/Lokathor/bytemuck)
- [tokio æ€§èƒ½æœ€ä½³å®è·µ](https://tokio.rs/tokio/topics/performance)

## ğŸ¤ è´¡çŒ®æŒ‡å—

æ¬¢è¿å¯¹é¡¹ç›®åšå‡ºè´¡çŒ®ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. Fork é¡¹ç›®
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ (`git checkout -b feature/amazing-feature`)
3. æäº¤æ›´æ”¹ (`git commit -m 'Add amazing feature'`)
4. æ¨é€åˆ°åˆ†æ”¯ (`git push origin feature/amazing-feature`)
5. å¼€å¯ Pull Request

### è´¡çŒ®ç±»å‹

- ğŸ› Bug ä¿®å¤
- ğŸ“ æ–‡æ¡£æ”¹è¿›
- âœ¨ æ–°åŠŸèƒ½æ·»åŠ 
- ğŸ¨ ä»£ç ä¼˜åŒ–
- âš¡ æ€§èƒ½æ”¹è¿›
- ğŸ“Š æ€§èƒ½æµ‹è¯•

### å¼€å‘æŒ‡å—

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/your-repo/ultimate_rust.git
cd ultimate_rust/bytes

# è¿è¡Œæµ‹è¯•
cargo test

# ä»£ç æ ¼å¼åŒ–
cargo fmt

# ä»£ç æ£€æŸ¥
cargo clippy

# è¿è¡Œç¤ºä¾‹
cargo run
```

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT è®¸å¯è¯](LICENSE)ã€‚

## ğŸ™ è‡´è°¢

æ„Ÿè°¢ Rust ç¤¾åŒºå’Œæ‰€æœ‰ä¸º Rust ç”Ÿæ€ç³»ç»Ÿåšå‡ºè´¡çŒ®çš„å¼€å‘è€…ã€‚ç‰¹åˆ«æ„Ÿè°¢ï¼š

- [Rust Language Team](https://www.rust-lang.org/team.html)
- [bytemuck](https://github.com/Lokathor/bytemuck) åº“çš„ç»´æŠ¤è€…
- [bytes](https://github.com/tokio-rs/bytes) åº“çš„ç»´æŠ¤è€…
- [tokio](https://github.com/tokio-rs/tokio) å›¢é˜Ÿ

---

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–å»ºè®®ï¼Œæ¬¢è¿é€šè¿‡ä»¥ä¸‹æ–¹å¼è”ç³»ï¼š

- ğŸ“§ Email: your-email@example.com
- ğŸ› Issues: [GitHub Issues](https://github.com/your-repo/ultimate_rust/issues)
- ğŸ’¬ Discussions: [GitHub Discussions](https://github.com/your-repo/ultimate_rust/discussions)

---

**â­ å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹æ‚¨æœ‰å¸®åŠ©ï¼Œè¯·ç»™æˆ‘ä»¬ä¸€ä¸ª Starï¼**

## ğŸ”— æ‰©å±•é˜…è¯»

- [Rust ç³»ç»Ÿç¼–ç¨‹æŒ‡å—](https://doc.rust-lang.org/nomicon/)
- [é«˜æ€§èƒ½ Rust ç¨‹åºè®¾è®¡](https://github.com/japaric/rust-by-example)
- [Rust å¼‚æ­¥ç¼–ç¨‹](https://rust-lang.github.io/async-book/)

---

**ğŸ“ˆ æŒç»­å­¦ä¹ ï¼šå­—èŠ‚æ“ä½œæ˜¯ç³»ç»Ÿç¼–ç¨‹çš„åŸºç¡€ï¼Œå»ºè®®ç»“åˆå®é™…é¡¹ç›®è¿›è¡Œå®è·µå’Œä¼˜åŒ–ã€‚**