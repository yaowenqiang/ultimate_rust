# Rust Unsafe ä»£ç æ¼”ç¤ºé¡¹ç›®

è¿™æ˜¯ä¸€ä¸ªæ¼”ç¤º Rust ä¸­ `unsafe` ä»£ç ä½¿ç”¨çš„æ•™è‚²é¡¹ç›®ã€‚é€šè¿‡å®é™…çš„ä»£ç ç¤ºä¾‹ï¼Œå±•ç¤ºäº† Rust å®‰å…¨ç¼–ç¨‹ä¸ unsafe ä»£ç ä¹‹é—´çš„åŒºåˆ«å’Œæ³¨æ„äº‹é¡¹ã€‚

## ğŸ¯ å­¦ä¹ ç›®æ ‡

- ç†è§£ Rust çš„å†…å­˜å®‰å…¨ä¿è¯
- å­¦ä¹ ä½•æ—¶ä»¥åŠå¦‚ä½•ä½¿ç”¨ unsafe ä»£ç 
- æŒæ¡ unsafe ä»£ç çš„é£é™©å’Œæœ€ä½³å®è·µ
- äº†è§£ Rust çš„è¾¹ç•Œæ£€æŸ¥æœºåˆ¶

## ğŸ“ é¡¹ç›®ç»“æ„

```
unsafe_demo/
â”œâ”€â”€ Cargo.toml          # é¡¹ç›®é…ç½®æ–‡ä»¶
â”œâ”€â”€ README.md           # é¡¹ç›®è¯´æ˜æ–‡æ¡£
â””â”€â”€ src/
    â””â”€â”€ main.rs         # ä¸»è¦æ¼”ç¤ºä»£ç 
```

## ğŸš€ è¿è¡Œé¡¹ç›®

```bash
cargo run
```

**âš ï¸ è­¦å‘Š**ï¼šè¿™ä¸ªé¡¹ç›®åŒ…å«æ•…æ„çš„å†…å­˜å®‰å…¨è¿è§„ä»£ç ï¼Œä»…ç”¨äºæ•™è‚²ç›®çš„ã€‚åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åˆ‡å‹¿æ¨¡ä»¿è¿™ç§å†™æ³•ã€‚

## ğŸ“š ä»£ç è¯´æ˜

### ä¸»è¦æ¼”ç¤ºå†…å®¹

1. **å®‰å…¨çš„å‘é‡è®¿é—®**
   - ä½¿ç”¨ç´¢å¼•æ“ä½œç¬¦ `[]`ï¼šä¼šè¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œè¶Šç•Œæ—¶ panic
   - ä½¿ç”¨ `get()` æ–¹æ³•ï¼šè¿”å› `Option<T>`ï¼Œå®‰å…¨å¤„ç†è¶Šç•Œæƒ…å†µ

2. **unsafe è®¿é—®æ–¹å¼**
   - ä½¿ç”¨ `get_unchecked()` æ–¹æ³•ï¼šä¸è¿›è¡Œè¾¹ç•Œæ£€æŸ¥ï¼Œå¯èƒ½å¯¼è‡´æœªå®šä¹‰è¡Œä¸º
   - æ¼”ç¤º unsafe å‡½æ•°çš„å®šä¹‰å’Œè°ƒç”¨

### å…³é”®æ¦‚å¿µ

- **è¾¹ç•Œæ£€æŸ¥ (Bounds Checking)**ï¼šRust åœ¨è¿è¡Œæ—¶æ£€æŸ¥æ•°ç»„/å‘é‡è®¿é—®æ˜¯å¦åœ¨æœ‰æ•ˆèŒƒå›´å†…
- **æœªå®šä¹‰è¡Œä¸º (Undefined Behavior)**ï¼šç¨‹åºè¡Œä¸ºæ— æ³•é¢„æµ‹ï¼Œå¯èƒ½å¯¼è‡´å´©æºƒæˆ–å®‰å…¨æ¼æ´
- **å†…å­˜å®‰å…¨**ï¼šRust çš„æ ¸å¿ƒç‰¹æ€§ï¼Œé˜²æ­¢å¸¸è§çš„å†…å­˜é”™è¯¯

## ğŸ”— ç›¸å…³æ–‡æ¡£

### å®˜æ–¹æ–‡æ¡£
- [Rust Book - Unsafe Rust](https://doc.rust-lang.org/book/ch19-01-unsafe-rust.html)
- [Rustonomicon - The Rust Book of Unsafety](https://doc.rust-lang.org/nomicon/)
- [Rust Reference - Unsafe Blocks](https://doc.rust-lang.org/reference/unsafe-blocks.html)

### ä¸­æ–‡èµ„æº
- [Rustè¯­è¨€åœ£ç»(Rust Course) - Unsafe Rust](https://course.rs/advance/unsafe.html)
- [Rust By Example - Unsafe](https://rustwiki.org/zh-CN/rust-by-example/unsafe.html)
- [Rust ä¸­æ–‡æ–‡æ¡£ - Unsafe å…³é”®å­—](https://www.rustwiki.org.cn/keyword/unsafe.html)

### æœ€ä½³å®è·µæŒ‡å—
- [Rust Unsafe Guidelines](https://rust-lang.github.io/unsafe-code-guidelines/)
- [Writing Unsafe Rust](https://doc.rust-lang.org/nightly/nomicon/writing-unsafe-rust.html)

## âš ï¸ é‡è¦æé†’

- `unsafe` ä¸ç­‰äºä¸å®‰å…¨ï¼Œè€Œæ˜¯å‘Šè¯‰ç¼–è¯‘å™¨"æˆ‘çŸ¥é“æˆ‘åœ¨åšä»€ä¹ˆ"
- ä½¿ç”¨ unsafe æ—¶å¿…é¡»ç¡®ä¿æ‰‹åŠ¨ç»´æŠ¤ Rust é€šå¸¸æä¾›çš„å®‰å…¨ä¿è¯
- ä»…åœ¨ç»å¯¹å¿…è¦ä¸”äº†è§£æ‰€æœ‰é£é™©æ—¶æ‰ä½¿ç”¨ unsafe ä»£ç 
- ä¼˜å…ˆå¯»æ‰¾å®‰å…¨çš„æ›¿ä»£æ–¹æ¡ˆ

## ğŸ› ï¸ æ‰©å±•ç»ƒä¹ 

1. å°è¯•ä¿®å¤ä»£ç ä¸­çš„å®‰å…¨é—®é¢˜
2. å®ç°ä¸€ä¸ªå®‰å…¨çš„åŒ…è£…å™¨å‡½æ•°
3. æ¢ç´¢å…¶ä»– unsafe ä½¿ç”¨åœºæ™¯ï¼ˆå¦‚è£¸æŒ‡é’ˆã€FFI ç­‰ï¼‰

## ğŸ“„ è®¸å¯è¯

æœ¬é¡¹ç›®ä»…ç”¨äºæ•™è‚²ç›®çš„ï¼Œè¯·éµå¾ªç›¸å…³çš„å¼€æºè®¸å¯è¯ã€‚